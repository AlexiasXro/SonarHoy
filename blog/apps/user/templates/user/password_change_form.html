{% extends 'layout.html' %}

{% block content %}
<div class="max-w-md mx-auto mt-16 bg-white dark:bg-gray-800 p-6 rounded-xl border border-indigo-600 shadow-md">

  <!--volver atrás -->
  <button onclick="history.back()"
    class="mb-6 text-indigo-600 hover:text-indigo-900 font-bold flex items-center space-x-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"
      stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    <span>Volver</span>
  </button>

  <h2 class="text-3xl font-bold text-indigo-600 mb-6">Cambiar contraseña</h2>

  <form method="post" class="space-y-6">
    {% csrf_token %}

    <!-- contraseña antigua -->
    {% if form.old_password %}
    <div>
      <label for="{{ form.old_password.id_for_label }}" class="block font-semibold mb-1">Contraseña actual:</label>
      {{ form.old_password }}
      {% if form.old_password.errors %}
      <p class="text-red-600 text-sm mt-1">{{ form.old_password.errors.0 }}</p>
      {% endif %}
    </div>
    {% endif %}

    <!--nueva contraseña -->
    {% if form.new_password1 %}
    <div>
      <label for="{{ form.new_password1.id_for_label }}" class="block font-semibold mb-1">Nueva contraseña:</label>
      {{ form.new_password1 }}
      {% if form.new_password1.errors %}
      <p class="text-red-600 text-sm mt-1">{{ form.new_password1.errors.0 }}</p>
      {% endif %}
    </div>
    {% endif %}

    <!--confirmar contraseña -->
    {% if form.new_password2 %}
    <div>
      <label for="{{ form.new_password2.id_for_label }}" class="block font-semibold mb-1">Confirmar contraseña:</label>
      {{ form.new_password2 }}
      {% if form.new_password2.errors %}
      <p class="text-red-600 text-sm mt-1">{{ form.new_password2.errors.0 }}</p>
      {% endif %}
    </div>
    {% endif %}

    <input type="submit" value="Actualizar contraseña"
      class="w-full bg-indigo-700 text-white py-2 rounded hover:bg-indigo-900 cursor-pointer transition" />
  </form>
</div>
{% endblock %}