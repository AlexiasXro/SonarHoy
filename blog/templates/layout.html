{% load static %}
<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title|default:"SonarHoy" }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>
  <style>
    /* .{{ block.super }}.. Aquí van los estilos que ya tenías para inputs y toggle ... */
    
     /* Estilos para los inputs dentro de formularios */
    form input[type="text"],
    form input[type="password"],
    form input[type="email"] {
      margin-top: 0.25rem;
      padding: 0.5rem;
      display: block;
      width: 100%;
      border-radius: 0.375rem;
      border: 2px solid #6366f1;
      background-color: #fff;
      color: #111827;
      transition-property: border-color, box-shadow;
      transition-duration: 150ms;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: none;
    }
    /* Modo oscuro */
    html.dark form input[type="text"],
    html.dark form input[type="password"],
    html.dark form input[type="email"] {
      background-color: #374151;
      border-color: #4f46e5;
      color: #fff;
    }
    /* Estilos de los inputs */
    form input[type="text"]:focus,
    form input[type="password"]:focus,
    form input[type="email"]:focus {
      outline: none;
      border-color: #4f46e5;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5);
      background-color: #fff;
      color: #111827;
    }
    html.dark form input[type="text"]:focus,
    html.dark form input[type="password"]:focus,
    html.dark form input[type="email"]:focus {
      background-color: #374151;
      color: #fff;
    }

    /* Estilos para el toggle del modo oscuro */
    label.toggle {
      position: relative;
      display: inline-flex;
      align-items: center;
      cursor: pointer;
      gap: 0.5rem;
      user-select: none;
    }

    /* Oculta el checkbox original */
    label.toggle input[type="checkbox"] {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    /* Muestra ícono sol cuando el toggle NO está activo */
    label.toggle svg[aria-label="sun"] {
      display: inline-block;
    }
    /* Oculta ícono de luna cuando el toggle NO está activo */
    label.toggle svg[aria-label="moon"] {
      display: none;
    }
    /* Cambia íconos cuando el toggle está activo */
    label.toggle input[type="checkbox"]:checked ~ svg[aria-label="sun"] {
      display: none;
    }
    label.toggle input[type="checkbox"]:checked ~ svg[aria-label="moon"] {
      display: inline-block;
    }
  </style>

</head>


<body class="bg-gradient-to-br from-white to-gray-100 dark:from-gray-900 dark:to-gray-800 text-gray-900 dark:text-white transition-colors duration-500">

 <!--HEADER 
  -Banner grande
  -Redes sociales-Control de modo oscuro y barra de búsqueda
  -Navegación principal
  -Botón de acceso (login o registrarse) y avatar -->
    {% include 'header.html' %}



  <!-- contenido dinamico  -->  
  <main class="flex flex-col items-center justify-center px-4 py-16 min-h-[70vh] max-w-md mx-auto">
    
    {% block content %}
   
    <p>Error: no hay contenido para mostrar en esta página.</p>
   
    {% endblock %}
  
  </main>


  <!-- Footer 
   -redes sociales
   -enlaces
   -derechos reservados -->
   {% include 'footer.html' %}

  <script>
    // Manejo del toggle para modo oscuro con persistencia en localStorage
    const checkbox = document.getElementById("darkCheckbox");
    const sunIcon = checkbox.parentElement.querySelector('svg[aria-label="sun"]');
    const moonIcon = checkbox.parentElement.querySelector('svg[aria-label="moon"]');
  
    // Aplica el modo oscuro según la configuración guardada
    function applyDarkModeFromStorage() {
      const isDark = localStorage.getItem('darkMode') === 'true';
      if (isDark) {
        document.documentElement.classList.add('dark');
        checkbox.checked = true;
        sunIcon.classList.add('hidden');
        moonIcon.classList.remove('hidden');
      } else {
        document.documentElement.classList.remove('dark');
        checkbox.checked = false;
        sunIcon.classList.remove('hidden');
        moonIcon.classList.add('hidden');
      }
    }
  
    // Cambia el modo oscuro y guarda la preferencia al cambiar el toggle
    checkbox.addEventListener("change", () => {
      const isDark = checkbox.checked;
      document.documentElement.classList.toggle("dark", isDark);
      localStorage.setItem("darkMode", isDark);
      if(isDark){
        sunIcon.classList.add('hidden');
        moonIcon.classList.remove('hidden');
      } else {
        sunIcon.classList.remove('hidden');
        moonIcon.classList.add('hidden');
      }
    });
  
    applyDarkModeFromStorage();
  </script>


</body>
</html>
