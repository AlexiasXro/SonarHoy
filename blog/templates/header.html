{% load static %}

<!-- Banner grande -->
  <section class="w-full h-24 md:h-32 bg-[#93278f] flex justify-center items-center">
    <img src="{% static 'img/Marca_1.png' %}" alt="Banner" class="h-20 md:h-24 object-contain" />
  </section>

  <!-- Redes sociales -->
  <div class="w-full bg-[#93278f] py-1 px-4">
    <div class="max-w-7xl mx-auto flex justify-start gap-4">
      <a href="#"><img src="{% static 'icons/boton_ig.png' %}" alt="Instagram" class="w-8 h-8" /></a>
      <a href="#"><img src="{% static 'icons/boton_x.png' %}" alt="X/Twitter" class="w-8 h-8" /></a>
      <a href="#"><img src="{% static 'icons/boton_yt.png' %}" alt="YouTube" class="w-8 h-8" /></a>
      <a href="#"><img src="{% static 'icons/boton_tiktok.png' %}" alt="TikTok" class="w-8 h-8" /></a>
    </div>
  </div>
</div>

<!-- Header con navegación -->
<header class="bg-gray-300 dark:bg-gray-900 shadow">
  <div class="max-w-7xl mx-auto relative flex items-center justify-between px-4 py-3">

    <!-- Modo oscuro -->
    <div class="flex items-center gap-2 relative z-10">
      <label class="toggle text-base-content cursor-pointer flex items-center gap-1" title="Modo oscuro">
        <input id="darkCheckbox" type="checkbox" class="theme-controller" />
        <svg aria-label="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="4"></circle>
          <path d="M12 2v2"></path>
          <path d="M12 20v2"></path>
          <path d="m4.93 4.93 1.41 1.41"></path>
          <path d="m17.66 17.66 1.41 1.41"></path>
          <path d="M2 12h2"></path>
          <path d="M20 12h2"></path>
          <path d="m6.34 17.66-1.41 1.41"></path>
          <path d="m19.07 4.93-1.41 1.41"></path>
        </svg>
        <svg aria-label="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 hidden" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
        </svg>
      </label>
    </div>

    <!-- Navegación -->
    <nav class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
      <div class="inline-flex items-center space-x-2 text-center">
        <a href="#" class="text-sm font-semibold text-indigo-600 dark:text-indigo-300">Noticias</a>
        <span class="text-gray-300">|</span>
        <a href="#" class="text-sm font-semibold text-indigo-600 dark:text-indigo-300">Agenda</a>
        <span class="text-gray-300">|</span>
        <a href="{% url 'contacto_admin' %}" class="text-sm font-semibold text-indigo-600 dark:text-indigo-300">Contacto</a>
        <span class="text-gray-300">|</span>
        <a href="#" class="text-sm font-semibold text-indigo-600 dark:text-indigo-300">Quienes somos</a>
      </div>
    </nav>

    <!-- Botones usuario -->
    <div class="flex items-center gap-3">
      {% if user.is_authenticated %}
        {% if request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'register' %}
          <img 
            src="{{ user.profile.avatar.url }}" 
            alt="Avatar de {{ user.username }}" 
            class="w-8 h-8 object-cover rounded-full" 
            onerror="this.onerror=null;this.src='{% static 'icons/user-profile.png' %}';" 
          />
        {% endif %}

        {% if request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'register' and request.resolver_match.url_name != 'profile' %}
          <a href="{% url 'user:profile' %}" class="text-sm bg-indigo-500 text-white px-3 py-1 rounded">Mi Perfil</a>
        {% elif request.resolver_match.url_name == 'profile' %}
          <a href="{% url 'user:login' %}" class="text-sm bg-red-500 text-white px-3 py-1 rounded">Cerrar sesión</a>
        {% endif %}

      {% elif request.session.guest_user %}
        <!-- Invitado -->
        <img 
          src="{% static 'icons/user-profile.png' %}" 
          alt="Avatar Invitado" 
          class="w-8 h-8 object-cover rounded-full" 
        />
        <span class="text-indigo-600 dark:text-indigo-300 font-semibold select-none">Invitado</span>
        <a href="{% url 'user:login' %}" class="ml-3 text-sm bg-indigo-500 text-white px-3 py-1 rounded">Iniciar sesión</a>
        <a href="{% url 'user:register' %}" class="text-sm bg-indigo-500 text-white px-3 py-1 rounded">Registrarse</a>

      {% else %}
        {% if request.resolver_match.url_name == 'login' %}
          <a href="{% url 'user:register' %}" class="text-sm bg-indigo-500 text-white px-3 py-1 rounded">Registrarse</a>
        {% elif request.resolver_match.url_name == 'register' %}
          <a href="{% url 'user:login' %}" class="text-sm bg-indigo-500 text-white px-3 py-1 rounded">Iniciar Sesión</a>
        {% else %}
          <a href="{% url 'user:login' %}" class="text-sm bg-indigo-500 text-white px-3 py-1 rounded">Iniciar Sesión</a>
          <a href="{% url 'user:register' %}" class="text-sm bg-indigo-500 text-white px-3 py-1 rounded">Registrarse</a>
        {% endif %}
      {% endif %}
    </div>

  </div>
</header>